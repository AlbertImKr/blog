<div class="card border bg-transparent rounded-3">

    <!-- Card body START -->
    <div class="card-body p-3">

        <!-- Search and select START -->
        <div class="row g-3 align-items-center justify-content-between mb-3">
            <!-- Search -->
            <div class="col-md-8">
                <form class="rounded position-relative">
                    <input class="form-control pe-5 bg-transparent" type="search"
                           placeholder="Search" aria-label="Search">
                    <button
                        class="btn bg-transparent border-0 px-2 py-0 position-absolute top-50 end-0 translate-middle-y"
                        type="submit"><i class="fas fa-search fs-6 "></i></button>
                </form>
            </div>

            <!-- Select option -->
            <div class="col-md-3">
                <!-- Short by filter -->
                <form>
                    <select class="form-select z-index-9 bg-transparent"
                            aria-label=".form-select-sm">
                        <option value="">Sort by</option>
                        <option>Newest</option>
                        <option>Oldest</option>
                    </select>
                </form>
            </div>
        </div>
        <!-- Search and select END -->

        <!-- Post list table START -->
        <div class="table-responsive border-0">
            <table class="table align-middle p-4 mb-0 table-hover table-shrink">
                <!-- Table head -->
                <thead class="table-dark">
                <tr>
                    <th scope="col" class="border-0 rounded-start text-center">Post Title</th>
                    <th scope="col" class="border-0 text-center">Published Date</th>
                    <th scope="col" class="border-0 text-center">Category</th>
                    <th scope="col" class="border-0 text-center">Status</th>
                    <th scope="col" class="border-0 rounded-end text-center">Action</th>
                </tr>
                </thead>

                <!-- Table body START -->
                <tbody class="border-top-0">
                <!-- Table item -->
                {% load category_filters %}
                {% for post in page_obj %}
                <tr>
                    <!-- Table data -->
                    <td>
                        <h6 class="course-title mt-2 mt-md-0 mb-0 text-center">
                            <a href="{% url 'post_detail' post.pk%}">
                                {{ post.title }}
                            </a>
                        </h6>
                    </td>
                    <!-- Table data -->
                    <td class="text-center">{{ post.created_at|date:"M d, Y" }}</td>
                    <!-- Table data -->
                    <td>
                        <div class="d-flex justify-content-center">
                            <a href="#" class="badge {{ post.category|random_text_bg_color }} mb-2"><i
                                class="fas fa-circle me-2 small fw-bold"></i>
                                {{ post.category }}
                            </a>
                        </div>
                    </td>
                    <!-- Table data -->
                    <td class="text-center">
                        {% if post.status %}
                        <span class="badge bg-success bg-opacity-10 text-success mb-2">Live</span>
                        {% else %}
                        <span class="badge bg-warning bg-opacity-15 text-warning mb-2">Draft</span>
                        {% endif %}
                    </td>
                    <!-- Table data -->
                    <td>
                        <div class="d-flex gap-2 justify-content-center">
                            <form action="{% url 'post_delete' post.pk %}" method="post" class="ajax-delete">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-light btn-round mb-0"
                                        data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"><i
                                    class="bi bi-trash"></i></button>
                            </form>
                            <a href="{% url 'post_update' post.pk %}"
                               class="btn btn-light btn-round mb-0"
                               data-bs-toggle="tooltip" data-bs-placement="top" title="Edit"><i
                                class="bi bi-pencil-square"></i></a>
                        </div>
                    </td>
                </tr>
                {% endfor %}
                </tbody>
                <!-- Table body END -->
            </table>
        </div>
        <!-- Post list table END -->

        <!-- Pagination START -->
        <div class="d-sm-flex justify-content-sm-between align-items-sm-center mt-4 mt-sm-3">
            <!-- Content -->
            <p class="mb-sm-0 text-center text-sm-start">Page {{ page_obj.number }} of
                {{ page_obj.paginator.num_pages }}</p>
            <!-- Pagination -->
            <nav class="mb-sm-0 d-flex justify-content-center" aria-label="navigation">
                <ul class="pagination pagination-sm pagination-bordered mb-0">
                    {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}?page=1">First</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list"
                           href="{% url 'user_posts_partial' %}?page={{ page_obj.previous_page_number }}">Prev</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <span class="page-link">First</span>
                    </li>
                    <li class="page-item disabled">
                        <span class="page-link">Prev</span>
                    </li>
                    {% endif %}
                    {% if page_obj.number > 2 %}
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}?page={{ page_obj.number|add:-2 }}">{{ page_obj.number|add:-2 }}</a>
                    </li>
                    {% endif %}
                    {% if page_obj.number > 1 %}
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}?page={{ page_obj.number|add:-1 }}">{{ page_obj.number|add:-1 }}</a>
                    </li>
                    {% endif %}
                    <li class="page-item active" aria-current="page">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}?page={{ page_obj.number  }}">{{ page_obj.number }}</a>
                    </li>
                    {% if page_obj.number < page_obj.paginator.num_pages %}
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}?page={{ page_obj.number|add:+1 }}">{{ page_obj.number|add:+1 }}</a>
                    </li>
                    {% endif %}
                    {% if page_obj.number < page_obj.paginator.num_pages|add:-1 %}
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}??page={{ page_obj.number|add:+2 }}">{{ page_obj.number|add:+2 }}</a>
                    </li>
                    {% endif %}
                    {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list" href="{% url 'user_posts_partial' %}?page={{ page_obj.next_page_number }}">Next</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link ajax-link" data-target="#post-list"
                           href="{% url 'user_posts_partial' %}?page={{ page_obj.paginator.num_pages }}">Last</a>
                    </li>
                    {% else %}
                    <li class="page-item">
                        <span class="page-link disabled">Next</span>
                    </li>
                    <li class="page-item">
                        <span class="page-link disabled">Last</span>
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
        <!-- Pagination END -->
    </div>
</div>
<!-- Post list table END -->
